#include <time.h>
#include <stdio.h>

#include "board.h"
#include "keyboard.h"
#include "intro.h"
#include "screen.h"

static char map[sizey][sizex] =  
	{
		{ 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 186, 000, 250, 000, 'W', 000, 250, 000, 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 000, 'W', 000, 'W', 000, 'W', 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 186},
		{ 204, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 'W', 000, 'W', 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 'W', 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 'W', 000, 000, 000, 000, 000, 000, 000,  35, 'W', 250, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 186},
		{ 186, 000, 000, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 000, 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 'W', 000, 000, 000, 000, 250, 186, 000 ,000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 'W', 000, 000, 000, 000, 000,  35, 000, 000, 000, 250, 000, 000, 000,  35, 000, 000, 000, 000, 000, '|', 219, 219, 219, 219, 000, 000, 219, 219, 219, 219, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 250, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, '|', 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000 ,000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 186},
		{ 186, 'P', 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000,  35, 000, 000, 000, 250, 000, 000, 000,  35, 000, 000, 000, 000, 000, '|', 219, 000, 000, 219, 000, 000, 219, 000, 000, 000, 219, 000, 219, 000, 219, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 186, 000, 000, 250, 000, 000, 000, 250, 000, 250, 000, 000, 000 ,000, 000, 000, 186, 000, 000, 000 ,000 ,000,  35, 250, 250, 250, 250, 250,  35, 000, 000 ,000, 000, 000, 000, '|', 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 219, 219, 000, 219, 000, 000, 000, 219, 000, 000, 000, 000, 000, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 'W', 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 186, 000, 000, 250, 000, 000, 000 ,000, 250, 000, 000 ,000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000,  35, 000, 250, 'W',  35, 000, 000, 000, 000, 000, 000, 000, '|', 219, 219, 219, 219, 000, 000, 219, 219, 219, 219, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 186},
		{ 186, 000, 000, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 250, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000,  35, 250,  35, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 186},
		{ 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 'W', 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 200, 205, 205, 205, 205, 205, 205, 205, 000, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 186},
		{ 204, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000,  35, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 000, 000, 000, 250, 250, 250, 250, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 'W', 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 'W', 000, 'W', 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 'W', 000, 250, 000, 000, 'W', 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},	
	};
static char map_core[sizey][sizex] =
	{
		{ 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 186},
		{ 204, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 250, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 186},
		{ 186, 000, 000, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 000, 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 186, 000 ,000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 250, 000, 000, 000,  35, 000, 000, 000, 000, 000, '|', 219, 219, 219, 219, 000, 000, 219, 219, 219, 219, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 250, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, '|', 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000 ,000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000,  35, 000, 000, 000, 250, 000, 000, 000,  35, 000, 000, 000, 000, 000, '|', 219, 000, 000, 219, 000, 000, 219, 000, 000, 000, 219, 000, 219, 000, 219, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 186, 000, 000, 250, 000, 000, 000, 250, 000, 250, 000, 000, 000 ,000, 000, 000, 186, 000, 000, 000 ,000 ,000,  35, 250, 250, 250, 250, 250,  35, 000, 000 ,000, 000, 000, 000, '|', 219, 000, 000, 000, 219, 000, 219, 000, 000, 000, 219, 000, 219, 000, 000, 219, 219, 000, 219, 000, 000, 000, 219, 000, 000, 000, 000, 000, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 186},
		{ 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 186, 000, 000, 250, 000, 000, 000 ,000, 250, 000, 000 ,000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000,  35, 000, 250, 000,  35, 000, 000, 000, 000, 000, 000, 000, '|', 219, 219, 219, 219, 000, 000, 219, 219, 219, 219, 219, 000, 219, 000, 000, 000, 219, 000, 219, 219, 219, 219, 219, 000, 219, 219, 219, 219, 219, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 186},
		{ 186, 000, 000, 205, 205, 205, 205, 205, 205, 000, 000, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 250, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000,  35, 250,  35, 000, 000, 000, 000, 000, 000, 000, 000, 201, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 186},
		{ 186, 000, 000, 250, 250, 250, 250, 250, 250, 000, 000, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 200, 205, 205, 205, 205, 205, 205, 205, 000, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 186},
		{ 204, 205, 205, 205, 205, 205, 205, 205, 205, 205, 187, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000,  35, 000,  35, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 250, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 186, 250, 186, 000, 186, 000, 000, 000, 000, 000, 000, 250, 250, 250, 250, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000,  35, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 250, 186, 000, 186, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000,  35, 250, 250, 250, 250, 250, 250, 250,  35, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 186, 000, 000, 250, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 250, 000, 000, 250, 000, 000, 250, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188},
		{ 186, 000, 250, 000, 000, 000, 250, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 186, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000},
		{ 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 188, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000}, 
	};

int score = 0;
int Time = 60;

int f = 5; // Speed 
int t = 7; // countdown speed
//int bonus = 3136; //total map
int i = 1;
int keyPress;
int victory = 1;

void playerMovement()
{
	int y,x;

	if(KeyPress())
	{
    	keyPress = getKey();
    }
    else 
	{
        keyPress = ' ';
    }
    if (keyPress == KEY_LEFT) 										//di chuyen player sang trai neu nhan 'a'
	{
        for (y = 0; y < sizey; y++) 
		{
			for(x = 0; x < sizex; x++)
        	{
        		
            	if (map[y][x] == player && map[y][x - 1] != wall && map[y][x - 1] != wall_1 
						&& map[y][x - 1] != wall_2 && map[y][x - 1] != wall_3 && map[y][x - 1] != wall_4 
							&& map[y][x - 1] != wall_5 && map[y][x - 1] != wall_6 && map[y][x - 1] != door) // Make sure it's not a wall beyond the player
				{
					if(map[y][x - 1] == ghost) // You lose if you hit the Ghost    
					{
						victory = 0;
					}
					else 
					{
						if(map[y][x - 1] == point) // The dot point dissapear when you eat it
						{
							//Score(score);
							score += 50;
							map_core[y][x - 1] = ' ';
						}
						else if(map[y][x - 1] == point_1) // The point of the BONUS word
						{
							//ScoreBounus(score);
							score += 500;
							map_core[y][x - 1] = ' ';
						}
						
						map[y][x - 1] = player;
                    	map[y][x] = ' ';
					}
                }	
			}
        	
		}

    }

    if (keyPress == KEY_RIGHT) 										//di chuyen player sang ben phai neu nhan 'd'
	{
		for (y = 0; y < sizey; y++) 
		{
			for(x = sizex - 1; x >= 0; x--)
        	{
            	if (map[y][x] == player && map[y][x + 1] != wall && map[y][x + 1] != wall_1 
						&& map[y][x + 1] != wall_2 && map[y][x + 1] != wall_3 && map[y][x + 1] != wall_4 
							&& map[y][x + 1] != wall_5 && map[y][x + 1] != wall_6 && map[y][x + 1] != door) 
				{
					if(map[y][x + 1] == ghost)
					{
						victory = 0;
					}
					else 
					{
						if(map[y][x + 1] == point) // The dot point dissapear when you eat it
						{
							//Score(score);
							score += 50;
							map_core[y][x + 1] = ' ';
						}
						else if(map[y][x + 1] == point_1) // The point of the BONUS word
						{
							//ScoreBounus(score);
							score += 500;
							map_core[y][x + 1] = ' ';
						}
						map[y][x + 1] = player;
                    	map[y][x] = ' ';
					}
                }	
			}
        	
		}

    }
    
    if (keyPress == KEY_UP) 										//di chuyen player len tren neu nhan 'w'
	{
        for (x = 0; x < sizex; x++) 
        {
        	for(y = 0; y < sizey; y++)
        	{
            	if (map[y][x] == player && map[y - 1][x] != wall && map[y - 1][x] != wall_1 
						&& map[y - 1][x] != wall_2 && map[y - 1][x] != wall_3 && map[y - 1][x] != wall_4 
							&& map[y - 1][x] != wall_5 && map[y - 1][x] != wall_6 && map[y - 1][x] != door) 
				{
					if(map[y - 1][x] == ghost)
					{
						victory = 0;
					}
					else 
					{
						if(map[y - 1][x] == point) // The dot point dissapear when you eat it
						{
							//Score(score);
							score += 50;
							map_core[y - 1][x] = ' ';
						}
						if(map[y - 1][x] == point_1) // The point of the BONUS word
						{
							//ScoreBounus(score);
							score += 500;
							map_core[y - 1][x] = ' '; 
						}
						map[y - 1][x] = player;
                    	map[y][x] = ' ';
					}
                }	
			}
		}
    }
    
    if (keyPress == KEY_DOWN) 										//di chuyen player xuong duoi neu nhan 's'
	{
       	for (x = 0; x < sizex; x++) 
        {
        	for(y = sizey - 1; y >= 0; y--)
        	{
            	if (map[y][x] == player && map[y + 1][x] != wall && map[y + 1][x] != wall_1 
						&& map[y + 1][x] != wall_2 && map[y + 1][x] != wall_3 && map[y + 1][x] != wall_4 
							&& map[y + 1][x] != wall_5 && map[y + 1][x] != wall_6 && map[y + 1][x] != door) 
				{
					if(map[y + 1][x] == ghost)
					{
						victory = 0;
					}
					else 
					{
						if(map[y + 1][x] == point) // The dot point dissapear when you eat it
						{
							//Score(score);
							score += 50;
							map_core[y + 1][x] = ' ';
						}
						if(map[y + 1][x] == point_1)  // The point of the BONUS word
						{
							//ScoreBounus(score);
							score += 500;
							map_core[y + 1][x] = ' '; 
						}
						map[y + 1][x] = player;
                    	map[y][x] = ' ';
					}
                }	
			}
		}
    }
}

void ghostMovement()
{
	int y,x;
		//Truong hop sang trai va len tren
	for (x = 0; x < sizex; x++) 
    {
    	for(y = 0; y < sizey; y++)
    	{
        	if (i%f == 0 && rand()%4 == up && map[y][x] == ghost && map[y - 1][x] != wall 
					&& map[y - 1][x] != wall_1 && map[y - 1][x] != wall_2 && map[y - 1][x] != wall_3 
						&& map[y - 1][x] != wall_4 && map[y - 1][x] != wall_5 && map[y - 1][x] != wall_6 && map[y - 1][x] != door && map[y-1][x]!= 'W')  // Ghost can't eat wall
			{  
				if(map[y - 1][x] == player) // You lose if the Ghost hit you
				{
					victory = 0;
				}
				else
				{
					map[y - 1][x] = ghost;
					map[y][x] = map_core[y][x];
				}
			}		
			
			if (i%f == 0 && rand()%4 == left && map[y][x] == ghost && map[y][x - 1] != wall 
					&& map[y][x - 1] != wall_1 && map[y][x - 1] != wall_2 && map[y][x - 1] != wall_3 
						&& map[y][x - 1] != wall_4 && map[y][x - 1] != wall_5 && map[y][x - 1] != wall_6 && map[y][x - 1] != door && map[y][x - 1]!= 'W') // Sang trai ne dcm
			{
				if(map[y][x - 1] == player)
				{
					victory = 0;
				}
				else
				{
					map[y][x - 1] = ghost;
					map[y][x] = map_core[y][x];
				}
				
			
			}	
		}

	}
	/////////////////////////////////// Truong hop sang phai
	for (y = 0; y < sizey; y++) 
    {
    	for(x = sizex; x >= 0; x--)
		{
			if (i%f == 0 && rand()%4 == right && map[y][x] == ghost && map[y][x + 1] != wall 
					&& map[y][x + 1] != wall_1 && map[y][x + 1] != wall_2 && map[y][x + 1] != wall_3 
						&& map[y][x + 1] != wall_4 && map[y][x + 1] != wall_5 && map[y][x + 1] != wall_6 && map[y][x + 1] != door && map[y][x+1]!= 'W')
			{
				if(map[y][x + 1] == player)
				{
					victory = 0;
				}
				else
				{
					map[y][x + 1] = ghost;
					map[y][x] = map_core[y][x];
				}
			}
		}
	}
	/////////Truong hop di xuong 
	for (x = 0; x < sizex; x++) 
    {
        for(y = sizey; y >= 0; y--)
    	{
    		if (i%f == 0 && rand()%4 == down && map[y][x] == ghost && map[y + 1][x] != wall 
					&& map[y + 1][x] != wall_1 && map[y + 1][x] != wall_2 && map[y + 1][x] != wall_3 
						&& map[y + 1][x] != wall_4 && map[y + 1][x] != wall_5 && map[y + 1][x] != wall_6 && map[y + 1][x] != door && map[y + 1][x]!= 'W')
			{
				if(map[y + 1][x] == player)
				{
					victory = 0;
				}
				else
				{
					map[y + 1][x] = ghost;
					map[y][x] = map_core[y][x];
				}

			}
		}
	}
		
}

void doorOpen()
{
	int y,x,j;
	if (score == 7250)
	{
		for(x = 0; x < sizex; x++)
		{
			for(y = 0; y < sizey; y++)
			{
				if(map[y][x] == '|')
				{
					map[y][x] = ' ';
				}
			}
		}
	}

	if (score >= 7250) // condition countdown
	{
		if(i%t == 0)
		{
			printf("\nTik tok Tik tok!!!\nCountdown : %2ds", Time);
			Time--;		
			XoaManHinh();
		}
	}
	
}

void WinorLose()
{
	if(Time == 0)
    {
		system("cls");
 		printf("\n \n     BAN DA THANG!!!! \n \n \n \n");		
		Sleep(1500);
		printf("\n \n     SCORE: %d", score);
		Sleep(1500);
	}
	
	if(victory == 0)
	{
		   Sleep(1000);
        system("cls");
 		printf("\n \n     BAN DA THUA!!!! \n \n \n \n");		
		   Sleep(1500);	
	}
	
}

void runboard()
{
	srand(time(NULL));
	introPacman();
	mainScreen(f);


	while(victory == 1 &&  Time > 0)
	{
		
		i++;
		drawBoard(map,score);
		
		XoaManHinh();
		Nocursortype();
	
		playerMovement();
		ghostMovement();
		//doorOpen();
		//printf("%d", i);
	
	}
	WinorLose();
}














